 <div class="mat-typography" fxLayoutAlign="center center">
    <h1>Outward To SubContractor</h1>
</div>

<mat-tab-group mat-stretch-tabs color="primary" [(selectedIndex)]="selectedIndex" class="mat-elevation-z8">
    <mat-tab label="List" style="border-right:2px outset rgba(47, 20, 223, 0.27);">
    <ng-template matTabContent>
        <mat-accordion>
            <mat-expansion-panel >
              <mat-expansion-panel-header >
                <mat-panel-title>
                  Table Filter
                </mat-panel-title>
                <mat-panel-description>
                  Expand Table Filter
                </mat-panel-description>
              </mat-expansion-panel-header>
              <ng-template matExpansionPanelContent>

<div fxLayout="row" fxLayoutAlign="center center">
<mat-form-field appearance="fill" style="margin: left 10px;">
<mat-label>Discom</mat-label>
<input matInput type="text" [(ngModel)]='discomSearch'>
</mat-form-field>

<mat-form-field appearance="fill" style="margin-right: 10px;">
<mat-label>Warehouse Name</mat-label>
<input matInput type="text" [(ngModel)]='warehouseSearch' >
</mat-form-field>

<mat-form-field appearance="fill" style="margin-right: 10px;">
  <mat-label>Subcontractor Type</mat-label>
  <input matInput type="text" [(ngModel)]='subcontractorTypeSearch' >
  </mat-form-field>

  <mat-form-field appearance="fill" style="margin-right: 10px;">
    <mat-label>Subcontractor</mat-label>
    <input matInput type="text"  [(ngModel)]='subcontractorSearch'>
    </mat-form-field>

    <mat-form-field appearance="fill" style="margin-right: 10px;">
      <mat-label>Item Group</mat-label>
      <input matInput type="text" [(ngModel)]='itemGroupSearch'>
      </mat-form-field>
</div>

<div fxLayout="row" fxLayoutAlign="center center">
      <mat-form-field appearance="fill" style="margin-right: 10px;">
        <mat-label>Item Model Name</mat-label>
        <input matInput type="text"  [(ngModel)]='itemModelNameSearch'>
        </mat-form-field>

        <mat-form-field appearance="fill" style="margin-right: 10px;">
          <mat-label>Item Category</mat-label>
          <input matInput type="text"  [(ngModel)]='itemCategorySearch' >
          </mat-form-field>

          <mat-form-field appearance="fill" style="margin-right: 10px;">
            <mat-label>Item Supplier</mat-label>
            <input matInput type="text"  [(ngModel)]='supplierSearch'>
            </mat-form-field>

            <mat-form-field appearance="fill" style="margin-right: 10px;">
              <mat-label>Item Status</mat-label>
              <input matInput type="text" [(ngModel)]='itemStatusSearch'>
              </mat-form-field>

              <button mat-stroked-button color="primary"  style="margin-left: 10px;" (click)="searchWithFilter()"> <mat-icon>search</mat-icon> </button>
</div>
</ng-template>
</mat-expansion-panel>
</mat-accordion>
<!-- <mat-table matSort [dataSource]="dataSource" class="mat-elevation-z8"> -->

    <div fxLayout="column">
<mat-progress-bar
   mode="indeterminate"
   *ngIf="isLoading"
></mat-progress-bar>
   <mat-table matSort [dataSource]="dataSource" class="mat-elevation-z8"  style="width: 200%;">
    <ng-container matColumnDef="trnStatus">
      <mat-header-cell *matHeaderCellDef mat-sort-header class="TableHeader">Trn Status</mat-header-cell>
      <mat-cell *matCellDef="let element" class="TableDataCell">{{ element["trnStatus"] }}</mat-cell>
    </ng-container>

     <ng-container matColumnDef="transactionId">
      <mat-header-cell *matHeaderCellDef mat-sort-header class="TableHeader">Transaction Id</mat-header-cell>
      <mat-cell *matCellDef="let element" class="TableDataCell">{{ element["transactionId"] }}</mat-cell>
    </ng-container>

   <ng-container matColumnDef="discom">
        <mat-header-cell *matHeaderCellDef mat-sort-header class="TableHeader">Discom</mat-header-cell>
        <mat-cell *matCellDef="let element" class="TableDataCell">{{ element["discom"] }}</mat-cell>
      </ng-container>
      <ng-container matColumnDef="warehouse">
        <mat-header-cell *matHeaderCellDef mat-sort-header class="TableHeader">Warehouse</mat-header-cell>
        <mat-cell *matCellDef="let element" class="TableDataCell">{{ element["warehouse"] }}</mat-cell>
      </ng-container>

      <ng-container matColumnDef="dispatchDate">
        <mat-header-cell *matHeaderCellDef mat-sort-header class="TableHeader">Dispatch Date</mat-header-cell>
        <mat-cell *matCellDef="let element" class="TableDataCell">{{ element["dispatchDate"]}}</mat-cell>
      </ng-container>
      
      <ng-container matColumnDef="indentNo">
        <mat-header-cell *matHeaderCellDef mat-sort-header class="TableHeader">Indent No</mat-header-cell>
        <mat-cell *matCellDef="let element" class="TableDataCell">{{ element["indentNo"] }}</mat-cell>
      </ng-container>
       <ng-container matColumnDef="indentDate">
        <mat-header-cell *matHeaderCellDef mat-sort-header class="TableHeader">Indent Date</mat-header-cell>
        <mat-cell *matCellDef="let element" class="TableDataCell">{{ element["indentDate"]}}</mat-cell>
      </ng-container>
     
      <ng-container matColumnDef="subcontractor">
        <mat-header-cell *matHeaderCellDef mat-sort-header class="TableHeader">Subcontractor</mat-header-cell>
        <mat-cell *matCellDef="let element" class="TableDataCell">{{ element["subcontractor"] }}</mat-cell>
      </ng-container>
     
      <ng-container matColumnDef="itemGroup">
        <mat-header-cell *matHeaderCellDef mat-sort-header class="TableHeader">Item Group</mat-header-cell>
        <mat-cell *matCellDef="let element" class="TableDataCell">{{ element["itemGroup"] }}</mat-cell>
      </ng-container>
      <ng-container matColumnDef="itemModelName">
        <mat-header-cell *matHeaderCellDef mat-sort-header class="TableHeader">Item Model Name</mat-header-cell>
        <mat-cell *matCellDef="let element" class="TableDataCell">{{ element["itemModelName"] }}</mat-cell>
      </ng-container>
      <ng-container matColumnDef="supplier">
        <mat-header-cell *matHeaderCellDef mat-sort-header class="TableHeader">Item Supplier</mat-header-cell>
        <mat-cell *matCellDef="let element" class="TableDataCell">{{ element["supplier"] }}</mat-cell>
      </ng-container>
      <ng-container matColumnDef="itemCategory">
        <mat-header-cell *matHeaderCellDef mat-sort-header class="TableHeader">Item Category</mat-header-cell>
        <mat-cell *matCellDef="let element" class="TableDataCell">{{ element["itemCategory"] }}</mat-cell>
      </ng-container>
      <ng-container matColumnDef="itemStatus">
        <mat-header-cell *matHeaderCellDef mat-sort-header class="TableHeader">Item Status</mat-header-cell>
        <mat-cell *matCellDef="let element" class="TableDataCell">{{ element["itemStatus"] }}</mat-cell>
      </ng-container>
    <ng-container matColumnDef="reqQty">
        <mat-header-cell *matHeaderCellDef mat-sort-header class="TableHeader">Req.Qty</mat-header-cell>
        <mat-cell *matCellDef="let element" class="TableDataCell">{{ element["reqQty"] }}</mat-cell>
      </ng-container>
      <ng-container matColumnDef="appQty">
        <mat-header-cell *matHeaderCellDef mat-sort-header class="TableHeader">App.Qty</mat-header-cell>
        <mat-cell *matCellDef="let element" class="TableDataCell">{{ element["appQty"] }}</mat-cell>
      </ng-container>
      <ng-container matColumnDef="disQty">
        <mat-header-cell *matHeaderCellDef mat-sort-header class="TableHeader">disc.Qty</mat-header-cell>
        <mat-cell *matCellDef="let element" class="TableDataCell">{{ element["disQty"] }}</mat-cell>
      </ng-container>
      <ng-container matColumnDef="viewDocument">
        <mat-header-cell *matHeaderCellDef mat-sort-header class="TableHeader">View Document</mat-header-cell>
        <mat-cell *matCellDef="let element" class="TableDataCell">{{ element["viewDocument"] }}</mat-cell>
        <!-- <button (click)="DownloadMyFile()" mat-raised-button class="btn btn-primary">  
          <span>Detail</span>  
      </button>   -->
        <!-- <button (click)="DownloadMyFile()"> <mat-icon>Download</mat-icon></button> -->
       
      </ng-container> 

      

      <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
      <mat-row matRipple
      (click)="navToDetails(row)"
      *matRowDef="let row; columns: displayedColumns"></mat-row>
   </mat-table>

   <mat-paginator
        [length]="totalRows"
        [pageSize]="pageSize"
        [pageIndex]="currentPage"
        [pageSizeOptions]="pageSizeOptions"
        showFirstLastButtons
        (page)="onChangePage($event)"
        aria-label="Select page"
      ></mat-paginator>

    </div>

    <!-- </mat-table> -->
<!-- <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row> -->
</ng-template>
</mat-tab>

<mat-tab label="Detail">
    <app-outward-import-details [isChecked]="isChecked" [internalValue]="internalValue" [latestValue]="latestValue" [outwardImportDetails]="outwardImportResponse" [isEditable]="isEditable" [isNavigation]="isNavigation" (dataSaved)="loadListTab()"></app-outward-import-details>
</mat-tab>
</mat-tab-group>
<div class="overlay" *ngIf="spinner">
    <div class="spinner">
      <mat-progress-spinner diameter="50" mode="indeterminate" color="accent">
      </mat-progress-spinner>
    </div>
    </div>

    <div style="z-index:2; position : fixed;bottom : 5%;left: 95%; margin-bottom : 1%;" *ngIf="selectedIndex==0">
        <button mat-fab color="primary" (click)="addNewOutwardImport()" *ngIf="isEditable" title="Add New Outward Import">
        <mat-icon>add</mat-icon>
        </button>
        </div>



