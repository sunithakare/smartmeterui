<form [formGroup]="outwardimportform" (submit)="saveoutwardimport()" autocomplete="off" (keydown.enter)="$event.preventDefault()"
(keydown.shift.enter)="$event.preventDefault()">

<mat-card *ngIf="!showSerialData">

  <div style="margin-left: 50px;margin-right: 100px;">
    <div fxLayout="row"fxLayoutAlign="space-between start">
        <div fxLayout="column" fxLayoutAlign="start start">
            <mat-form-field appearance="outline">
                <mat-label>Discom</mat-label>
            <mat-select formControlName="discom" MatFormFieldControl>
                <mat-option [value]="null" disabled>Select Discom</mat-option>
                <mat-option *ngFor="let discom of totalDiscomsList" [value]=discom.shortCode>{{discom.shortDescription}}</mat-option>
              </mat-select>
              </mat-form-field>
        </div>
        <div fxLayout="row"fxLayoutAlign="space-between start">
            <mat-form-field appearance="outline">
                <mat-label>Warehouse Name</mat-label>
            <mat-select formControlName="warehouseName">
                <mat-option *ngFor="let item of warehouseList" [value]="item.warehouseName">{{item.warehouseName}}</mat-option>
              </mat-select>
            </mat-form-field>
        </div>
        <div fxLayout="row"fxLayoutAlign="space-between start">
            <mat-form-field appearance="outline">
                <mat-label>Subcontractor Type</mat-label>
                <mat-select formControlName="subcontractorType">
                <mat-option *ngFor="let item of subcontractorTypes" [value]="item.name">{{item.name}}</mat-option>
            </mat-select>
            </mat-form-field>
        </div>
        <div fxLayout="row"fxLayoutAlign="space-between start">
            <mat-form-field appearance="outline">
                <mat-label>Subcontractor</mat-label>
                <mat-select formControlName="subcontractor">
                <mat-option *ngFor="let item of Subcontractors" [value]="item.name" >{{item.name}}</mat-option>
            </mat-select>
            </mat-form-field>
        </div>
      </div>

             <div fxLayout="row" fxLayoutAlign="space-between center" style="margin-top: 20px">
              <div fxLayout="column" fxLayoutAlign="start start">
                <mat-form-field appearance="outline">
                    <mat-label>Indent No</mat-label>
                    <input type="text"  matInput formControlName="indentNo">
                </mat-form-field>
              </div>
                <div fxLayout="column" fxLayoutAlign="start start">
                <mat-form-field appearance="outline">
                    <mat-label>Indent Date</mat-label>
                    <input matInput [matDatepicker]="indentPicker" formControlName="indentDate">
                    <mat-datepicker-toggle matSuffix [for]="indentPicker"></mat-datepicker-toggle>
                    <mat-datepicker #indentPicker></mat-datepicker>
                  </mat-form-field>
                </div>
                <!-- <div fxLayout="column" fxLayoutAlign="start start">
                <mat-form-field appearance="outline">
                    <mat-label>DC No</mat-label>
                    <input type="text"  matInput formControlName="dcNo">
                </mat-form-field>
                </div> -->
                <div fxLayout="column" fxLayoutAlign="start start">
                <mat-form-field appearance="outline">
                    <mat-label>Dispatch Date</mat-label>
                    <input matInput [matDatepicker]="dispatchPicker" formControlName="dispatchDate">
                    <mat-datepicker-toggle matSuffix [for]="dispatchPicker"></mat-datepicker-toggle>
                    <mat-datepicker #dispatchPicker></mat-datepicker>
                  </mat-form-field>
                </div>
                <div fxLayout="column" fxLayoutAlign="start start">
                  <mat-form-field appearance="fill">
                    <mat-label>Item Group</mat-label>
                    <mat-select (selectionChange)="itemGroupLookUp($event)" formControlName="itemGroup">
                        <mat-option *ngFor="let item of itemGroupValues" [value]="item.itemGroup">{{item.itemGroup}}</mat-option>
                    </mat-select>
                  </mat-form-field>
              
                </div>
            </div>

            <div fxLayout="row" fxLayoutAlign="space-between center" style="margin-top: 20px">

              
              <div fxLayout="column" fxLayoutAlign="start start">
                <mat-form-field appearance="outline">
                    <mat-label>Item Model Name</mat-label>
                    <mat-select formControlName="itemModelName" (selectionChange)="itemModelNameLookUp($event)">
                    <mat-option *ngFor="let item of itemModelNameValues" [value]="item.itemModelName">{{item.itemModelName}}</mat-option>
                </mat-select>
                </mat-form-field>
              </div>
              <div fxLayout="column" fxLayoutAlign="start start">
                <mat-form-field appearance="outline">
                    <mat-label>Item Supplier</mat-label>
                    <input type="text"  matInput formControlName="supplier" >
                </mat-form-field>
                </div>
                <div fxLayout="column" fxLayoutAlign="start start">
                <mat-form-field appearance="outline">
                    <mat-label>Item Category</mat-label>
                    <input type="text"  matInput formControlName="itemCategory" >
                </mat-form-field>
                </div>
                <div fxLayout="column" fxLayoutAlign="start start">
                  <mat-form-field appearance="outline">
                      <mat-label>Item Status</mat-label>
                      <mat-select formControlName="itemStatus">
                      <mat-option *ngFor="let item of Itemstatus" [value]="item.name">{{item.name}}</mat-option>
                  </mat-select>
                  </mat-form-field>
                </div>
            </div>

            <div  fxLayout="row" fxLayoutAlign="space-between center" style="margin-top: 20px">
             
              <div fxLayout="column" fxLayoutAlign="start start">
                <mat-form-field appearance="outline">
                    <mat-label>Quantity</mat-label>
                    <input type="number"  matInput formControlName="quantity">
                </mat-form-field>
              </div>
              <div fxLayout="column" fxLayoutAlign="start start">
                <mat-form-field appearance="outline">
                    <mat-label>Transporter</mat-label>
                    <input type="text"  matInput formControlName="transporter">
                </mat-form-field>
              </div>
              <div fxLayout="column" fxLayoutAlign="start start">
                <mat-form-field appearance="outline">
                    <mat-label>LR No.</mat-label>
                    <input type="text"  matInput  formControlName="lrNo">
                </mat-form-field>
              </div>
              <div fxLayout="column" fxLayoutAlign="start start">
                <mat-form-field appearance="outline">
                    <mat-label>LR Date</mat-label>
                    <input matInput [matDatepicker]="lrPicker" formControlName="lrDate">
                    <mat-datepicker-toggle matSuffix [for]="lrPicker"></mat-datepicker-toggle>
                    <mat-datepicker #lrPicker></mat-datepicker>
                  </mat-form-field>
                </div>
            </div>
          </div>

          <div fxLayout="row"fxLayoutAlign="space-between start" style="margin-left: 50px;margin-right: 100px;">
            <div  fxLayout="row" fxLayoutAlign="space-between center" fxLayoutGap="150px" style="margin-top: 20px">
              
              
              <div fxLayout="column" fxLayoutAlign="start start">
                <mat-form-field appearance="outline">
                    <mat-label>Vehicle No.</mat-label>
                    <input type="text"  matInput formControlName="vehicleNo">
                </mat-form-field>
              </div>
              <div fxLayout="column" fxLayoutAlign="start start">
                <mat-form-field appearance="outline">
                    <mat-label>Driver Name</mat-label>
                    <input type="text"  matInput formControlName="driverName">
                </mat-form-field>
              </div>
              <div fxLayout="column" fxLayoutAlign="start start">
                <mat-form-field appearance="outline">
                    <mat-label>Contact No.</mat-label>
                    <input type="text"  matInput formControlName="contactNo"  maxlength="10">
                </mat-form-field>
              </div>
              <!-- <div style="margin-left: 150px;">
                <button
                mat-raised-button
                type="button"
                color="primary"
                (click)="showSerialNoListDetails()">
                Document Upload<mat-icon>left</mat-icon>
              </button>
              </div>-->
            </div> 
                </div>

                
                <!-- <div fxLayout="column" fxLayoutAlign="start start">
                <button
                mat-raised-button
                type="button"
                color="primary"
                (click)="showSerialNoListDetails()"
              >
                Show Serial Data <mat-icon>left</mat-icon>
              </button>
              </div> -->


              <div style="margin-left: 50px;margin-right: 100px;">
                <div
    fxLayout="row"
    fxLayoutAlign="start start"
    style="margin-top: 20px ;"
    >
    <div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="20px">
        <mat-form-field appearance="outline" [style.width.px]="500">
          <mat-label>Remark</mat-label>
          <textarea
            matInput
            rows="5"
            cols="100"
            formControlName="remark"
          ></textarea>
        </mat-form-field>

        <!-- <mat-checkbox class="example-margin"
          >Skip File Upload</mat-checkbox
        > -->
        <!-- <mat-radio-group aria-label="Select an option" fxLayoutGap="20px"> -->
          <mat-radio-group #tableVisiblity="matRadioGroup"  fxLayoutGap="20px">
          <mat-radio-button  value="1">Scanner</mat-radio-button>
          <mat-radio-button  value="2">Manual Serial</mat-radio-button>
          <mat-radio-button [checked]="isChecked" value="3">Manual Group</mat-radio-button>
          <mat-radio-button  value="4">Quantity</mat-radio-button>

        </mat-radio-group>
        
      </div>
    </div>
  </div>


  <div fxLayout="row" fxLayoutAlign="center center" style="margin-top: 20px">
    <div fxLayout="column" fxLayoutAlign="start start">
      <input hidden type="file" #uploader (change)="uploadFile($event)" />
      <button
        mat-raised-button
        type="button"
        color="primary"
        (click)="uploader.click()"
      >
        Upload <mat-icon>upload</mat-icon>
      </button>
    </div>
    </div>

    <mat-card-actions
    fxLayout="row"
    fxLayoutAlign="center start"
    style="margin-top: 20px"
  >
  <button mat-raised-button type="submit" color="primary" fxFlex="8">Save As Draft</button>
    <button mat-raised-button type="submit" color="primary" fxFlex="8">Submit</button>
    <button
      mat-raised-button
      type="submit"
      (click)="backToList()" fxFlex="8"
      color="primary"
    >
      Cancel
    </button>
  </mat-card-actions>
   

   <div *ngIf="showSerialData">
    <app-display-serial-no-list [serialNoList]="serialNoList" (returnToDetails)="showDetailsView()"></app-display-serial-no-list>
  </div>
    <div *ngIf="tableVisiblity.value=='1'">
      <h1>Scanner</h1>
        
          <div fxLayout="row" fxLayoutAlign="end end" fxLayoutGap="20px">
            <!-- <button mat-raised-button  color="primary" type='button'  (click)="createApprover()" *ngIf="isEditable && isNavigation " >Create Approver <mat-icon>forward</mat-icon></button> -->
            <button mat-raised-button  color="primary" type='button'  (click)="addNewScanner()"> <mat-icon>add</mat-icon> Add</button>
          </div>
          <div fxLayout="row" fxLayoutAlign="center center">
          <mat-table  [dataSource]="dataSource" class="mat-elevation-z8" fxFlex >
        
            <ng-container matColumnDef="srNo" > 
              <mat-header-cell fxLayoutAlign="center center" *matHeaderCellDef  class="TableHeader">Sr.No</mat-header-cell>
              <mat-cell fxLayoutAlign="center center" *matCellDef="let element; let i = index;" class="TableDataCell" >
                {{i+1}}
              </mat-cell>
            </ng-container>
        <ng-container matColumnDef="action">

          <mat-header-cell fxLayoutAlign="center center" *matHeaderCellDef  class="TableHeader">Action</mat-header-cell>
          <mat-cell fxLayoutAlign="center center" *matCellDef="let element;let i = index" class="TableDataCell" [formGroup]="element">
            <button mat-raised-button type="button" color="warn" (click)="removeScanner(i)" title="Remove Row"><mat-icon>delete_forever</mat-icon></button>
          </mat-cell>
    
        </ng-container>
      
        <mat-header-row *matHeaderRowDef="displayedColumns; sticky: true" ></mat-header-row>
        <!-- <mat-row
          matRipple
          *matRowDef="let row; columns: displayedColumns"
          (click)="showDetails(row)">
        </mat-row> -->
        <mat-row
          matRipple
          *matRowDef="let row; columns: displayedColumns;let i = index"
        ></mat-row>

        
      </mat-table>
    </div>
    <!-- </mat-grid-tile> -->
    </div>

    <div *ngIf="showSerialData">
      <app-display-serial-no-list [serialNoList]="serialNoList" (returnToDetails)="showDetailsView()"></app-display-serial-no-list>
    </div>
    <div *ngIf="tableVisiblity.value=='2'">

        <h1>Manual Serial</h1>
          
            <div fxLayout="row" fxLayoutAlign="end end" fxLayoutGap="20px">
              <!-- <button mat-raised-button  color="primary" type='button'  (click)="createApprover()" *ngIf="isEditable && isNavigation " >Create Approver <mat-icon>forward</mat-icon></button> -->
              <button mat-raised-button  color="primary" type='button'  (click)="addNewMannualSerial()"> <mat-icon>add</mat-icon> Add</button>
            </div>
            <div fxLayout="row" fxLayoutAlign="center center">
            <mat-table  [dataSource]="dataSource" class="mat-elevation-z8" fxFlex >
          
              <ng-container matColumnDef="srNo" > 
                <mat-header-cell fxLayoutAlign="center center" *matHeaderCellDef  class="TableHeader">Sr.No</mat-header-cell>
                <!-- <mat-cell fxLayoutAlign="center center" *matCellDef="let element; let i = index;" class="TableDataCell" > -->
                  <mat-cell *matCellDef="let element;let i = index" class="TableDataCell" [formGroup]="element" fxLayoutAlign="center center">
                  <!-- {{i+1}} -->
                  <mat-form-field  appearance="outline">
                    <mat-label>SrNo</mat-label>
              
                    <input type="text" matInput formControlName="srNo" >
                  </mat-form-field>
                </mat-cell>
              </ng-container>
              
              
          <ng-container matColumnDef="action">
  
            <mat-header-cell fxLayoutAlign="center center" *matHeaderCellDef  class="TableHeader">Action</mat-header-cell>
            <mat-cell fxLayoutAlign="center center" *matCellDef="let element;let i = index" class="TableDataCell" [formGroup]="element">
              <button mat-raised-button type="button" color="warn" (click)="removeMannualSerial(i)" title="Remove Row"><mat-icon>delete_forever</mat-icon></button>
            </mat-cell>
      
          </ng-container>
        
          <mat-header-row *matHeaderRowDef="displayedColumns; sticky: true" ></mat-header-row>
          <!-- <mat-row
            matRipple
            *matRowDef="let row; columns: displayedColumns"
            (click)="showDetails(row)">
          </mat-row> -->
          <mat-row
            matRipple
            *matRowDef="let row; columns: displayedColumns;let i = index"
          ></mat-row>
  
          
        </mat-table>
      </div>
      <!-- </mat-grid-tile> -->
      </div>
      
    
    <div *ngIf="tableVisiblity.value=='3'">

      <h1>Manual Group</h1>
          
            <div fxLayout="row" fxLayoutAlign="end end" fxLayoutGap="20px">
              <!-- <button mat-raised-button  color="primary" type='button'  (click)="createApprover()" *ngIf="isEditable && isNavigation " >Create Approver <mat-icon>forward</mat-icon></button> -->
              <button mat-raised-button  color="primary" type='button'  (click)="addNewMannualGroup()"> <mat-icon>add</mat-icon> Add</button>
            </div>
            <div fxLayout="row" fxLayoutAlign="center center">
            <mat-table  [dataSource]="dataSource" class="mat-elevation-z8" fxFlex >


              


                  <ng-container matColumnDef="internalSrNo">
                    <mat-header-cell fxLayoutAlign="center center" *matHeaderCellDef  class="TableHeader">From</mat-header-cell>
                    <mat-cell *matCellDef="let element;let i = index" class="TableDataCell" [formGroup]="element" fxLayoutAlign="center center">
                     

                        

                  <mat-form-field  appearance="outline">
                    <mat-label>From</mat-label>
              
                    <input type="text" matInput formControlName="internalSrNo" >
                  </mat-form-field>

                  </mat-cell>
                  </ng-container>

                  <ng-container matColumnDef="latestSrNo">
                    <mat-header-cell fxLayoutAlign="center center" *matHeaderCellDef  class="TableHeader">To</mat-header-cell>
                    <mat-cell *matCellDef="let element;let i = index" class="TableDataCell" [formGroup]="element" fxLayoutAlign="center center">
                     
                  <mat-form-field  appearance="outline">
                    <mat-label>To</mat-label>
              
                    <input type="text" matInput formControlName="latestSrNo">
                  </mat-form-field>
                </mat-cell>
              </ng-container>
              
              
          <ng-container matColumnDef="action">
  
            <mat-header-cell fxLayoutAlign="center center" *matHeaderCellDef  class="TableHeader">Action</mat-header-cell>
            <mat-cell fxLayoutAlign="center center" *matCellDef="let element;let i = index" class="TableDataCell" [formGroup]="element">
              <button mat-raised-button type="button" color="warn" (click)="removeMannualGroup(i)" title="Remove Row"><mat-icon>delete_forever</mat-icon></button>
            </mat-cell>
      
          </ng-container>
        
          <mat-header-row *matHeaderRowDef="MannualGroupColumns; sticky: true" ></mat-header-row>
          <!-- <mat-row
            matRipple
            *matRowDef="let row; columns: displayedColumns"
            (click)="showDetails(row)">
          </mat-row> -->
          <mat-row
            matRipple
            *matRowDef="let row; columns: MannualGroupColumns;let i = index"
          ></mat-row>
  
          
        </mat-table>
      </div>
      </div>
    <div *ngIf="tableVisiblity.value=='4'">Quantity 
      <!-- <mat-form-field appearance="outline"> -->
      <!-- <input matInput type="text"> -->
        <!-- </mat-form-field> -->
   </div>
  <!-- </mat-grid-list> -->
  
</mat-card>
</form>
