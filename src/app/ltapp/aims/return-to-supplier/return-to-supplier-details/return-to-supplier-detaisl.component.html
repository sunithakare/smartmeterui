<form [formGroup]="returnToSupplierDetailsForm" (ngSubmit)="savereturnToSupplierDetails()"  autocomplete="off" (keydown.enter)="$event.preventDefault()" (keydown.shift.enter)="$event.preventDefault()">
  <mat-card *ngIf="!showSerialData">
    <div style="margin-left: 50px;margin-right: 100px;">
      <div fxLayout="row" fxLayoutAlign="space-between center">
        <div fxLayout="column" fxLayoutAlign="start start">
        <mat-form-field appearance="outline" [style.width.px]="420">
          <mat-label>Discom</mat-label>
          <mat-select formControlName="discom">
            <mat-option *ngFor="let item of totalDiscomsList" [value]="item.shortCode">{{item.shortDescription}}</mat-option>
        </mat-select>
        </mat-form-field>
        </div>
        <div fxLayout="column" fxLayoutAlign="start start">
        <mat-form-field appearance="outline" [style.width.px]="420">
          <mat-label>Warehouse Name</mat-label>
          <mat-select formControlName="warehouseName">
            <mat-option *ngFor="let item of warehouseList" [value]="item.warehouseName">{{item.warehouseName}}</mat-option>
        </mat-select>
        </mat-form-field>
      </div>
      <div fxLayout="column" fxLayoutAlign="start start">
      <mat-form-field appearance="outline" [style.width.px]="420">
        <mat-label>Supplier</mat-label>
        <mat-select formControlName="supplier">
          <mat-option *ngFor="let item of supplierList" [value]="item.supplier">{{item.supplier}}</mat-option>
      </mat-select>
      </mat-form-field>
    </div>
      </div>
      <div fxLayout="row" fxLayoutAlign="space-between start" style="margin-top: 20px;">
        <div fxLayout="column" fxLayoutAlign="start start">
           <mat-form-field appearance="outline">
          <mat-label>DC</mat-label>
          <input type="text" matInput formControlName="dc">
        </mat-form-field>
        </div>
        <div fxLayout="column" fxLayoutAlign="start start">
        <mat-form-field appearance="outline">
          <mat-label>DC Date</mat-label>
          <input matInput [matDatepicker]="dcPicker" formControlName="dcDate">
          <mat-datepicker-toggle matSuffix [for]="dcPicker"></mat-datepicker-toggle>
          <mat-datepicker #dcPicker></mat-datepicker>
        </mat-form-field>
      </div>
      <div fxLayout="column" fxLayoutAlign="start start">
        <mat-form-field appearance="outline">
          <mat-label>Dispatch date</mat-label>
          <input matInput [matDatepicker]="dispatchPicker" formControlName="dispatchDate">
          <mat-datepicker-toggle matSuffix [for]="dispatchPicker"></mat-datepicker-toggle>
          <mat-datepicker #dispatchPicker></mat-datepicker>
        </mat-form-field>
      </div>
      <div fxLayout="column" fxLayoutAlign="start start">
        <mat-form-field appearance="outline">
          <mat-label>Quantity</mat-label>
          <input type="number" matInput formControlName="quantity">
          <mat-error
                *ngIf="returnToSupplierDetailsForm.controls['quantity'].hasError('pattern')">
                Quantity not allowed <strong>WhiteSpases</strong>
              </mat-error>
        </mat-form-field>
        </div>

      </div>
      <div fxLayout="row" fxLayoutAlign="space-between start" style="margin-top: 20px;">
        <div fxLayout="column" fxLayoutAlign="start start">
          <mat-form-field appearance="outline">
            <mat-label>Item Group</mat-label>
            <mat-select (selectionChange)="itemGroupLookUp($event)" formControlName="itemGroup">
                <mat-option *ngFor="let item of itemGroupValues" [value]="item.itemGroup">{{item.itemGroup}}</mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        <div fxLayout="column" fxLayoutAlign="start start">
          <mat-form-field appearance="outline">
            <mat-label>Item Model Name</mat-label>
            <mat-select formControlName="itemModelName" (selectionChange)="itemNameLookUp($event)">
              <mat-option *ngFor="let item of itemNameValues" [value]="item.itemModelName">{{item.itemModelName}}</mat-option>
          </mat-select>
          </mat-form-field>
        </div>
        <div fxLayout="column" fxLayoutAlign="start start">
          <mat-form-field appearance="outline">
            <mat-label>Item Supplier</mat-label>
            <input type="text" matInput formControlName="itemSupplier">
          </mat-form-field>
        </div>
        <div fxLayout="column" fxLayoutAlign="start start">
        <mat-form-field appearance="outline">
          <mat-label>Item Category</mat-label>
          <input type="text" matInput formControlName="itemCategory">
        </mat-form-field>
      </div>

      </div>
      <div fxLayout="row" fxLayoutAlign="space-between start" style="margin-top: 20px;">
        <div fxLayout="column" fxLayoutAlign="start start">
          <mat-form-field appearance="outline">
            <mat-label>Item Status</mat-label>
            <mat-select formControlName="itemStatus">
              <mat-option *ngFor="let item of iteamStatus" [value]="item.name">{{item.name}}</mat-option>
          </mat-select>
          </mat-form-field>
        </div>
        <div fxLayout="column" fxLayoutAlign="start start">
          <mat-form-field appearance="outline">
            <mat-label>Transporter</mat-label>
            <input type="text" matInput formControlName="transporter">
          </mat-form-field>
        </div>
        <div fxLayout="column" fxLayoutAlign="start start">
          <mat-form-field appearance="outline">
            <mat-label>LR No</mat-label>
            <input type="number" matInput formControlName="lrNo">
            <mat-error
                *ngIf="returnToSupplierDetailsForm.controls['lrNo'].hasError('pattern')">
                Lr No not allowed <strong>WhiteSpases</strong>
              </mat-error>
          </mat-form-field>
        </div>
        <div fxLayout="column" fxLayoutAlign="start start">
          <mat-form-field appearance="outline">
            <mat-label>LR Date</mat-label>
            <input matInput [matDatepicker]="lrPicker" formControlName="lrDate">
            <mat-datepicker-toggle matSuffix [for]="lrPicker"></mat-datepicker-toggle>
            <mat-datepicker #lrPicker></mat-datepicker>
          </mat-form-field>
        </div>



      </div>
    </div>
    <div fxLayout="row"fxLayoutAlign="space-between start" style="margin-left: 50px;margin-right: 100px;">
      <div fxLayout="row"fxLayoutAlign="space-between start" fxLayoutGap="155px" style="margin-top: 20px;">
        <div fxLayout="row" fxLayoutAlign="start start">
        <mat-form-field appearance="outline">
          <mat-label>Driver Name</mat-label>
          <input type="text" matInput formControlName="driverName">
        </mat-form-field>
        </div>
        <div fxLayout="row" fxLayoutAlign="start start">
          <mat-form-field appearance="outline" style="margin-left: 70px;">
            <mat-label>Contact No</mat-label>
            <input type="number" matInput formControlName="contactNo">
            <mat-error
                  *ngIf="returnToSupplierDetailsForm.controls['contactNo'].hasError('pattern')"
                >
                  Enter 10 digit Number <strong>Start with [6-9]</strong>
                </mat-error>
                <mat-error
                *ngIf="returnToSupplierDetailsForm.controls['contactNo'].hasError('pattern')">
                Contact No not allowed <strong>WhiteSpases</strong>
              </mat-error>

          </mat-form-field>
        </div>
        <div fxLayout="column" fxLayoutAlign="start start">
          <mat-form-field appearance="outline" style="margin-left: 70px;" >
            <mat-label>Vehicle No</mat-label>
            <input type="text" input #vehicleNo (input)="vehicleNo.value=vehicleNo.value.toUpperCase()"  matInput formControlName="vehicleNo">
          </mat-form-field>
        </div>
        <!-- <div fxLayout="row" fxLayoutAlign="start start">
          <button
              mat-raised-button
              type="button"
              color="primary"
              (click)="showSerialNoListDetails()"
            >
              Show Serial Data <mat-icon>left</mat-icon>
            </button>
        </div> -->
      </div>



  </div>
  <div fxLayout="row"fxLayoutAlign="space-between start" style="margin-left: 50px;margin-right: 100px;">
  <div
    fxLayout="row"
    fxLayoutAlign="start start"
    style="margin-top: 20px ;"
    >
    <div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="20px">
        <mat-form-field appearance="outline" [style.width.px]="500">
          <mat-label>Remark</mat-label>
          <textarea
            matInput
            rows="5"
            cols="100"
            formControlName="remark"
          ></textarea>
        </mat-form-field>

        <!-- <mat-checkbox class="example-margin">Skip File Upload</mat-checkbox> -->
      </div>
    </div>
  </div>

    <div fxLayout="row" fxLayoutAlign="center center" style="margin-top: 20px">
      <div fxLayout="column" fxLayoutAlign="start start">
        <input hidden type="file" #uploader (change)="uploadFile($event)" accept=".xlsx" />
        <button
          mat-raised-button
          type="button"
          color="primary"
          (click)="uploader.click()"
        >
          Upload <mat-icon>upload</mat-icon>
        </button>

      </div>
    </div>

    <mat-card-actions fxLayout="row"
    fxLayoutAlign="center start"
style="margin-top: 20px" >
        <button mat-raised-button type="submit" color="primary" dir="rtl"  fxFlex="10">Import</button>
        <button mat-raised-button type="submit" (click)="backToList()" color="primary" dir="rtl" fxFlex="10">Cancel</button>
    </mat-card-actions>
</mat-card>

<div *ngIf="showSerialData">
  <app-display-serial-no-list [serialNoList]="serialNoList" (returnToDetails)="showDetailsView()"></app-display-serial-no-list>
</div>
</form>
<!-- {{this.returnToSupplierDetailsForm.getRawValue()|json}} -->
